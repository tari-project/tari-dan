{
  "openrpc": "1.0.0-rc1",
  "info": {
    "version": "1.0.0",
    "title": "Tari DAN",
    "license": {
      "name": "MIT"
    }
  },
  "servers": [
    {
      "url": "http://localhost:18200"
    }
  ],
  "methods": [
    {
      "name": "get_epoch_manager_stats",
      "summary": "",
      "tags": [

      ],
      "params": [],
      "result": {
        "name": "epoch_stats",
        "description": "",
        "schema": {
          "$ref": "#/components/schemas/EpochStats"
        }
      },
      "errors": [
      ],
      "examples": [
        {
          "name": "default",
          "description": "",
          "params": [
          ],
          "result": {
            "name": "example1",
            "value": {
              "current_epoch": 2,
              "is_valid": true
            }
          }
        }
      ]
    },
    {
      "name": "get_identity",
      "summary": "",
      "tags": [

      ],
      "params": [],
      "result": {
        "name": "epoch_stats",
        "description": "",
        "schema": {
          "$ref": "#/components/schemas/EpochStats"
        }
      },
      "errors": [
      ],
      "examples": [
        {
          "name": "default",
          "description": "",
          "params": [
          ],
          "result": {
            "name": "example1",
            "value": {
              "node_id": "d09292e5a5900a29382345e078",
              "public_address": "/onion3/zqydnqgtapphitwdxr4sfg5kuvv7kbs5ye54yjy2mybi7f7qxd5jeiyd:18141",
              "public_key": "b4a0b93ccd3a50ab8f7fb766cc9fea59e574283d69a53fe60d6aa842f42ecd38"
            }
          }
        }
      ]
    },
    {
      "name": "get_recent_transactions",
      "summary": "",
      "tags": [

      ],
      "params": [],
      "result": {
        "name": "epoch_stats",
        "description": "",
        "schema": {
          "$ref": "#/components/schemas/EpochStats"
        }
      },
      "errors": [
      ],
      "examples": [
        {
          "name": "default",
          "description": "",
          "params": [
          ],
          "result": {
            "name": "example1",
            "value":[{"instructions":"[{\"args\":[],\"function\":\"new\",\"template_address\":[12,19,228,241,232,135,19,15,1,8,15,149,220,6,138,72,176,149,10,197,33,237,250,209,49,138,206,127,245,184,96,61],\"type\":\"CallFunction\"}]","meta":"{\"involved_objects\":{\"0251874ff8b0e8d5a16caf947f71f767b436e26e47de786bc46ea6947db03416\":[\"Create\",{}]},\"max_outputs\":1}","payload_id":[212,180,36,72,138,100,206,22,232,234,74,28,145,62,77,190,94,91,110,170,67,103,28,21,191,60,245,221,105,70,79,165],"timestamp":2023}]
          }
        }
      ]
    },
    {
      "name": "get_connections",
      "summary": "",
      "tags": [

      ],
      "params": [],
      "result": {
        "name": "epoch_stats",
        "description": "",
        "schema": {
          "$ref": "#/components/schemas/EpochStats"
        }
      },
      "errors": [
      ],
      "examples": [
        {
          "name": "default",
          "description": "",
          "params": [
          ],
          "result": {
            "name": "example1",
            "value": {
              "connections": []
            }
          }
        }
      ]
    },
    {
      "name": "get_mempool_stats",
      "summary": "",
      "tags": [
     ],
      "params": [],
      "result": {
        "name": "epoch_stats",
        "description": "",
        "schema": {
          "$ref": "#/components/schemas/EpochStats"
        }
      },
      "errors": [
      ],
      "examples": [
        {
          "name": "default",
          "description": "",
          "params": [
          ],
          "result": {
            "name": "example1",
            "value": {
              "size": 0
            }
          }
        }
      ]
    },
    {
      "name": "get_templates",
      "summary": "",
      "tags": [

      ],
      "params": [
        {
          "name": "limit",
          "schema": {
            "type": "integer"
          }
        }
      ],
      "result": {
        "name": "epoch_stats",
        "description": "",
        "schema": {
          "$ref": "#/components/schemas/EpochStats"
        }
      },
      "errors": [
      ],
      "examples": [
        {
          "name": "default",
          "description": "",
          "params": [
          ],
          "result": {
            "name": "exmaple1",
            "value": {
              "templates": [
                {
                  "address": [
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0
                  ],
                  "binary_sha": [
                    72,
                    103,
                    186,
                    11,
                    57,
                    29,
                    7,
                    33,
                    243,
                    148,
                    61,
                    159,
                    11,
                    222,
                    211,
                    210,
                    181,
                    127,
                    78,
                    69,
                    169,
                    43,
                    26,
                    235,
                    84,
                    55,
                    83,
                    10,
                    223,
                    166,
                    92,
                    241
                  ],
                  "height": 0,
                  "name": "account",
                  "url": ""
                }
              ]
            }
          }
        }
      ]
        }
,
    {
      "name": "register_validator_node",
      "summary": "Registers the validator node",
      "tags": [],
      "params": [],
      "result": {
        "name": "epoch_stats",
        "description": "",
        "schema": {
          "$ref": "#/components/schemas/EpochStats"
        }
      },
      "errors": [
      ],
      "examples": [
        {
          "name": "default",
          "description": "",
          "params": [
          ],
          "result": {
            "name": "example1",
            "value":{
              "transaction_id": 6445356003091125000
            }
          }
        }
      ]
    },
    {
      "name": "get_transaction",
      "summary": "Get a transaction's details",
      "tags": [],
      "params":  [{
        "name": "payload_id",
        "schema": {
          "type": "array"
        }
      }],
      "result": {
        "name": "epoch_stats",
        "description": "",
        "schema": {
          "$ref": "#/components/schemas/EpochStats"
        }
      },
      "errors": [
      ],
      "examples": [
        {
          "name": "default",
          "description": "",
          "params": [
          ],
          "result": {
            "name": "example1",
            "value":[{"height":1,"node_hash":[30,134,38,124,89,46,217,115,174,129,131,44,1,14,227,4,62,125,20,214,95,225,118,210,21,10,46,234,113,132,163,145],"parent_node_hash":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"payload_height":1,"shard":[192,0,131,60,99,17,37,254,200,10,247,145,82,103,21,18,106,113,198,38,24,146,131,140,79,114,211,26,104,108,40,139],"total_leader_proposals":1,"total_votes":1},{"height":2,"node_hash":[174,183,214,6,79,231,48,230,44,87,152,239,49,154,56,169,220,105,10,56,232,224,235,193,13,244,14,187,195,15,247,138],"parent_node_hash":[30,134,38,124,89,46,217,115,174,129,131,44,1,14,227,4,62,125,20,214,95,225,118,210,21,10,46,234,113,132,163,145],"payload_height":2,"shard":[192,0,131,60,99,17,37,254,200,10,247,145,82,103,21,18,106,113,198,38,24,146,131,140,79,114,211,26,104,108,40,139],"total_leader_proposals":1,"total_votes":1},{"height":3,"node_hash":[74,52,141,55,52,29,219,89,27,249,192,36,85,220,129,84,231,232,3,248,216,153,61,48,246,17,60,246,19,136,55,66],"parent_node_hash":[174,183,214,6,79,231,48,230,44,87,152,239,49,154,56,169,220,105,10,56,232,224,235,193,13,244,14,187,195,15,247,138],"payload_height":3,"shard":[192,0,131,60,99,17,37,254,200,10,247,145,82,103,21,18,106,113,198,38,24,146,131,140,79,114,211,26,104,108,40,139],"total_leader_proposals":1,"total_votes":1},{"height":4,"node_hash":[2,174,39,23,250,234,24,251,17,245,120,229,222,237,88,173,105,91,118,105,113,227,87,103,136,143,138,164,141,205,104,210],"parent_node_hash":[74,52,141,55,52,29,219,89,27,249,192,36,85,220,129,84,231,232,3,248,216,153,61,48,246,17,60,246,19,136,55,66],"payload_height":4,"shard":[192,0,131,60,99,17,37,254,200,10,247,145,82,103,21,18,106,113,198,38,24,146,131,140,79,114,211,26,104,108,40,139],"total_leader_proposals":1,"total_votes":0},{"height":1,"node_hash":[96,191,43,40,211,67,194,2,81,96,200,39,79,203,98,94,201,49,21,206,67,9,178,128,18,214,42,137,123,81,220,7],"parent_node_hash":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"payload_height":1,"shard":[228,24,182,47,56,209,91,115,99,80,62,188,117,58,154,74,224,90,181,158,234,165,133,77,242,69,99,239,69,150,59,172],"total_leader_proposals":1,"total_votes":1},{"height":2,"node_hash":[71,146,16,116,44,125,163,217,127,83,38,206,207,201,216,71,233,55,249,120,172,10,189,79,80,40,78,99,62,223,111,153],"parent_node_hash":[96,191,43,40,211,67,194,2,81,96,200,39,79,203,98,94,201,49,21,206,67,9,178,128,18,214,42,137,123,81,220,7],"payload_height":2,"shard":[228,24,182,47,56,209,91,115,99,80,62,188,117,58,154,74,224,90,181,158,234,165,133,77,242,69,99,239,69,150,59,172],"total_leader_proposals":1,"total_votes":1},{"height":3,"node_hash":[181,96,39,158,75,245,64,225,223,112,167,65,254,128,7,186,108,221,175,102,123,40,128,230,253,131,78,83,48,89,119,33],"parent_node_hash":[71,146,16,116,44,125,163,217,127,83,38,206,207,201,216,71,233,55,249,120,172,10,189,79,80,40,78,99,62,223,111,153],"payload_height":3,"shard":[228,24,182,47,56,209,91,115,99,80,62,188,117,58,154,74,224,90,181,158,234,165,133,77,242,69,99,239,69,150,59,172],"total_leader_proposals":1,"total_votes":1},{"height":4,"node_hash":[13,168,214,165,174,242,222,126,59,31,181,202,193,115,244,13,26,98,192,188,247,121,7,185,69,95,173,146,31,191,223,10],"parent_node_hash":[181,96,39,158,75,245,64,225,223,112,167,65,254,128,7,186,108,221,175,102,123,40,128,230,253,131,78,83,48,89,119,33],"payload_height":4,"shard":[228,24,182,47,56,209,91,115,99,80,62,188,117,58,154,74,224,90,181,158,234,165,133,77,242,69,99,239,69,150,59,172],"total_leader_proposals":1,"total_votes":0}]
          }
        }
      ]
    }
  ],
  "components": {
    "contentDescriptors": {
    },
    "schemas": {
      "EpochStats": {
        "type": "object",
        "required": [
          "current_epoch",
          "is_valid"
        ],
        "properties": {
          "current_epoch": {
            "type": "integer"
          },
          "is_valid": {
            "type": "boolean"
          }
        }
      }
    }
  }
}
